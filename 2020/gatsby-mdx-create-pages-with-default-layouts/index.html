<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!--Description-->

    

    
        <meta name="description" content="Inexperienced and curious pokes into the sprawling world of web development "/>
    

    <!--Author-->
    
        <meta name="author" content="kaem"/>
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Gatsby &amp; MDX: Create Pages with Default Layouts"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Inexperienced and curious pokes into the sprawling world of web development "/>
    

    <!--Open Graph Site Name-->
        <meta property="og:site_name" content="Angry Chaired Blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article"/>
    

    <!--Page Cover-->
    
    
        <meta property="og:image" content="https://ikaem.github.io/angry-chaired-blog/angry-chaired-blog/images/header-image.jpg"/>
    

        <meta name="twitter:card" content="summary_large_image"/>

    

    
        <meta name="twitter:image" content="https://ikaem.github.io/angry-chaired-blog/angry-chaired-blog/images/header-image.jpg"/>
    

    <!-- Title -->
    
    <title>Gatsby &amp; MDX: Create Pages with Default Layouts - Angry Chaired Blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/angry-chaired-blog/css/style.css">

    
<link rel="stylesheet" href="/angry-chaired-blog/css/custom-style.css">


    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"/>

    <!-- Google Analytics -->
    


    <!-- favicon -->
    
    <link rel="icon" href="/angry-chaired-blog/images/favicon.ico"/>
    

<meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/angry-chaired-blog/atom.xml" title="Angry Chaired Blog" type="application/atom+xml">
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/angry-chaired-blog/">Angry Chaired Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li class="">
                        <a href="/angry-chaired-blog/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li class="">
                        <a href="/angry-chaired-blog/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="">
                        <a href="/angry-chaired-blog/about">
                            
                                About
                            
                        </a>
                    </li>
                
                    <li class="">
                        <a href="/angry-chaired-blog/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li class="icon-label">
                        <a target="_blank" rel="noopener" href="https://angrychaired.surge.sh">
                            
                                <i class="fa fa-user fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
                    <li class="icon-label">
                        <a target="_blank" rel="noopener" href="https://github.com/ikaem/">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
                    <li class="icon-label">
                        <a href="/angry-chaired-blog/atom.xml">
                            
                                <i class="fa fa-rss fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('rusty-watson-TercK6ss7F4-unsplash.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Gatsby & MDX: Create Pages with Default Layouts</h1>

                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            30/08/2020
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-md-5 post-categories">
                    
                        

<a href="/angry-chaired-blog/categories/gatsby-mdx/">gatsby & mdx</a>

                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- Step Content Start -->

<h4 id="Part-3-of-6-in-Gatsby-amp-MDX"><a href="#Part-3-of-6-in-Gatsby-amp-MDX" class="headerlink" title="Part 3 of 6 in Gatsby &amp; MDX"></a>Part 3 of 6 in Gatsby &amp; MDX</h4><p>In the previous post we programmatically created pages from MDX documents. In this post we will create pages by specifying a folder whose MDX documents will be turned to pages automatically, and then specifying a default layout which will be used for every page.</p>
<a id="more"></a>

<h4 id="See-Project-Information"><a href="#See-Project-Information" class="headerlink" title="See Project Information"></a>See <a href="#Project-Information">Project Information</a></h4><h2 id="Step-3-Create-pages-with-default-layouts-and-gatsby-plugin-create-pages"><a href="#Step-3-Create-pages-with-default-layouts-and-gatsby-plugin-create-pages" class="headerlink" title="Step 3: Create pages with default layouts and gatsby-plugin-create-pages"></a>Step 3: Create pages with default layouts and gatsby-plugin-create-pages</h2><p>This approach consists of three parts:</p>
<ol>
<li>Setting up gatsby-plugin-page-creator plugin to convert documents inside a folder into pages</li>
<li>Definining default layout which will be used to as a template for pages</li>
<li>Using <strong>MDXProvider</strong> component to render contents of MDX documents</li>
</ol>
<p>So let’s start.</p>
<h3 id="Set-up-gatsby-plugin-page-creator-plugin-to-convert-documents-inside-a-folder-into-pages"><a href="#Set-up-gatsby-plugin-page-creator-plugin-to-convert-documents-inside-a-folder-into-pages" class="headerlink" title="Set up gatsby-plugin-page-creator plugin to convert documents inside a folder into pages"></a>Set up gatsby-plugin-page-creator plugin to convert documents inside a folder into pages</h3><p>The <strong>gatsby-plugin-page-creator</strong> is automatically included in all websites by Gatsby. It is normally used to create pages out of all components inside <strong>src/pages</strong> folder, but we can add another instance to specify more <strong>pages</strong> directories.</p>
<p>Let’s install the plugin with:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save gatsby-plugin-page-creator</span><br></pre></td></tr></table></figure>

<p>Next, we will create another folder isnide <strong>src</strong>, and called it <strong>next</strong>. Let’s place a file called <strong>next.mdx</strong> inside it, too, and add some content to it.</p>
<figure class="highlight yml"><figcaption><span>next.mdx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Multiplayer</span> <span class="string">Chess</span> <span class="string">with</span> <span class="string">Socket.io</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">30</span><span class="string">/09/2020</span></span><br><span class="line"><span class="attr">published:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment">### Hello next project</span></span><br><span class="line"></span><br><span class="line"><span class="string">Oh</span> <span class="string">acceptance</span> <span class="string">apartments</span> <span class="string">up</span> <span class="string">sympathize</span> <span class="string">astonished</span> <span class="string">delightful.</span> <span class="string">Waiting</span> <span class="string">him</span> <span class="string">new</span> <span class="string">lasting</span> <span class="string">towards.</span> <span class="string">Continuing</span> <span class="string">melancholy</span> <span class="string">especially</span> <span class="string">so</span> <span class="string">to.</span> <span class="string">Me</span> <span class="string">unpleasing</span> <span class="string">impossible</span> <span class="string">in</span> <span class="string">attachment</span> <span class="string">announcing</span> <span class="string">so</span> <span class="string">astonished.</span></span><br></pre></td></tr></table></figure>

<p>To make all MDX components inside this folder become pages, we will add the installed plugin’s configuration object to the <strong>plugins</strong> array, and specify its <strong>path</strong> property to point to our new folder.</p>
<figure class="highlight js"><figcaption><span>gatsby-config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#123;</span><br><span class="line">    resolve: <span class="string">&quot;gatsby-plugin-page-creator&quot;</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">    path: <span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/src/next`</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>If we visit <strong>localhost:8000/next</strong>, we will see contents of the MDX component rendered on the page.</p>
<p>Of course, the page is pretty bland. So let’s fix that.</p>
<h3 id="Definining-default-layout-which-will-be-used-to-as-a-template-for-pages"><a href="#Definining-default-layout-which-will-be-used-to-as-a-template-for-pages" class="headerlink" title="Definining default layout which will be used to as a template for pages"></a>Definining default layout which will be used to as a template for pages</h3><p>The <strong>gatsby-plugin-mdx</strong> plugin allows us to specify layout which will be used for rendering MDX components. We can specify a default layout, as well as layouts that will specifically be used to render MDX components found in specific source instances, as defined in <strong>source-filesystem</strong> configuration objects.</p>
<p>Here we specify a general default layout to point to <strong>templates/next.template.tsx</strong>, as well as a layout used for all MDX components whose source instance name is <strong>testmdx</strong>.<br>We will not be using the latter one, and I include it here only as an example. The procedure to render MDX components is the same, though.</p>
<figure class="highlight js"><figcaption><span>gatsby-config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line">&#123;</span><br><span class="line">    resolve: <span class="string">&quot;gatsby-source-filesystem&quot;</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">    name: <span class="string">&quot;testmdx&quot;</span>,</span><br><span class="line">    path: <span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/src/testmdx`</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#123;</span><br><span class="line">    resolve: <span class="string">&quot;gatsby-plugin-mdx&quot;</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">    extensions: [<span class="string">&quot;.mdx&quot;</span>, <span class="string">&quot;.md&quot;</span>],</span><br><span class="line">    defaultLayouts: &#123;</span><br><span class="line">        testmdx: path.resolve(<span class="string">&quot;./src/templates/testmdx.template.tsx&quot;</span>),</span><br><span class="line">        <span class="keyword">default</span>: path.resolve(<span class="string">&quot;./src/templates/next.template.tsx&quot;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>Finally, we can render MDX component in our layout. MDX components are passed as a <strong>children</strong> prop to the layout component, and all we have to do is render it:</p>
<figure class="highlight jsx"><figcaption><span>next.template.tsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> TestTemplate = <span class="function">(<span class="params">&#123; children &#125;: &#123; children: React.ReactNode &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;This is inside Next Template &lt;/h1&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TestTemplate;</span><br></pre></td></tr></table></figure>

<p>Now open the <strong>localhost:8000/next</strong>, and you should see the same page as before, but with the heading rendered as well.</p>
<h3 id="Using-“MDXProvider”-component-to-customize-contents-of-MDX-documents"><a href="#Using-“MDXProvider”-component-to-customize-contents-of-MDX-documents" class="headerlink" title="Using “MDXProvider” component to customize contents of MDX documents"></a>Using “MDXProvider” component to customize contents of MDX documents</h3><p>Now that we managed to render (yet again) MDX components, we can actually customize the style of rendered MDX components, and we can provide other React components to all MDX components.</p>
<p>To do this, we need to import the component from <strong>@mdx-js/react</strong>, and then wrap the component around the <strong>children</strong> prop.</p>
<figure class="highlight jsx"><figcaption><span>next.template.tsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; MDXProvider &#125; <span class="keyword">from</span> <span class="string">&quot;@mdx-js/react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> NextTemplate = <span class="function">(<span class="params">&#123; children &#125;: &#123; children: React.ReactNode &#125;</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;This is inside Next Template &lt;/h1&gt;</span><br><span class="line">        &lt;MDXProvider&gt;</span><br><span class="line">            &#123;children&#125;</span><br><span class="line">        &lt;/MDXProvider&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>

<p>Unfortunately, this package does not come with TS types, and I couldn’t find ones to install.<br>I did find a <a target="_blank" rel="noopener" href="https://mdxjs.com/advanced/typescript">way</a> to declare its types manually, however, by declaring a module <strong>@mdx-js/react</strong>. The module defines a type called <strong>ComponentType</strong>, which is then used to type props that exist on the <strong>MDXProvider</strong> component.</p>
<figure class="highlight ts"><figcaption><span>mdx-typings.d.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> &quot;@mdx-js/react&quot; &#123;</span><br><span class="line">  <span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line">  <span class="keyword">type</span> ComponentType =</span><br><span class="line">    | <span class="string">&quot;a&quot;</span></span><br><span class="line">    | <span class="string">&quot;blockquote&quot;</span></span><br><span class="line">    | <span class="string">&quot;code&quot;</span></span><br><span class="line">    | <span class="string">&quot;delete&quot;</span></span><br><span class="line">    | <span class="string">&quot;em&quot;</span></span><br><span class="line">    | <span class="string">&quot;h1&quot;</span></span><br><span class="line">    | <span class="string">&quot;h2&quot;</span></span><br><span class="line">    | <span class="string">&quot;h3&quot;</span></span><br><span class="line">    | <span class="string">&quot;h4&quot;</span></span><br><span class="line">    | <span class="string">&quot;h5&quot;</span></span><br><span class="line">    | <span class="string">&quot;h6&quot;</span></span><br><span class="line">    | <span class="string">&quot;hr&quot;</span></span><br><span class="line">    | <span class="string">&quot;img&quot;</span></span><br><span class="line">    | <span class="string">&quot;inlineCode&quot;</span></span><br><span class="line">    | <span class="string">&quot;li&quot;</span></span><br><span class="line">    | <span class="string">&quot;ol&quot;</span></span><br><span class="line">    | <span class="string">&quot;p&quot;</span></span><br><span class="line">    | <span class="string">&quot;pre&quot;</span></span><br><span class="line">    | <span class="string">&quot;strong&quot;</span></span><br><span class="line">    | <span class="string">&quot;sup&quot;</span></span><br><span class="line">    | <span class="string">&quot;table&quot;</span></span><br><span class="line">    | <span class="string">&quot;td&quot;</span></span><br><span class="line">    | <span class="string">&quot;thematicBreak&quot;</span></span><br><span class="line">    | <span class="string">&quot;tr&quot;</span></span><br><span class="line">    | <span class="string">&quot;ul&quot;</span></span><br><span class="line">    | <span class="string">&quot;Header&quot;</span></span><br><span class="line">    | <span class="string">&quot;Footer&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">type</span> Components = &#123;</span><br><span class="line">    [key <span class="keyword">in</span> ComponentType]?: React.ComponentType&lt;&#123; children: React.ReactNode &#125;&gt;;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> MDXProviderProps &#123;</span><br><span class="line">    children: React.ReactNode;</span><br><span class="line">    components: Components;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">class</span> MDXProvider <span class="keyword">extends</span> React.Component&lt;MDXProviderProps&gt; &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>I have to admit that I find the mentioned types of this particular component a bit confusing, but it works, so leat’s move on.<br>What the types do is make the <strong>components</strong> prop mandatory, so let’s add it to the <strong>MDXProvider</strong> component.</p>
<p>The prop holds an object which we can use to customize our MDX Components. For instance, we can make all <strong>h3</strong> headings in MDX components be red, or assign a class to all paragraphs.</p>
<p>Let’s do exactly that.<br>We will create an object outside of the template’s return, and have it hold two properties.</p>
<p>The <strong>h3</strong> one will hold a function that returns an <strong>h3</strong> element, styled to be red.<br>The <strong>p</strong> one will hold a function that returns a <strong>p</strong> element with a class of <strong>custom-class</strong>.</p>
<p>Note that both functions accept a <strong>props</strong> argumet, which is then destructured in the element. I can’t tell you exactly why this is. I tried looking for it, but I couldn’t find much about it.</p>
<figure class="highlight jsx"><figcaption><span>next.template.tsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> NextTemplate = <span class="function">(<span class="params">&#123; children &#125;: &#123; children: React.ReactNode &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> componentsMapping = &#123;</span><br><span class="line">    h3: <span class="function">(<span class="params">props</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">h3</span> &#123;<span class="attr">...props</span>&#125; <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> &quot;<span class="attr">red</span>&quot; &#125;&#125; /&gt;</span></span>,</span><br><span class="line">    p: <span class="function">(<span class="params">props</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span> &#123;<span class="attr">...props</span>&#125; <span class="attr">className</span>=<span class="string">&quot;custom-class&quot;</span>/&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>Next, we will pass this object to the <strong>components</strong> prop. This will effectively replace <strong>h3</strong> and <strong>p</strong> elements with the elements that created, coloring headings red, and assigning a class to paragraphs.</p>
<figure class="highlight jsx"><figcaption><span>next.template.tsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//..</span></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;MDXProvider components=&#123;componentsMapping&#125;&gt;</span><br><span class="line">        &#123;children&#125;</span><br><span class="line">        &lt;/MDXProvider&gt;</span><br><span class="line">    &lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>We could have assigned values to object keys inline, in JSX. However, this could negatively <a target="_blank" rel="noopener" href="https://mdxjs.com/advanced/components">impact the site performance</a>, among other issues, so always declare components as constants outside JSX.</p>
<p>The <strong>components</strong> prop can also be used to pass React components to MDX components. We have already seen that MDX components can import React components. However, with this approach we can pass components to all MDX components that use this particular layout, instead of doing it individually.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">&quot;../components/footer.component&quot;</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;../components/header.component&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> NextTemplate = <span class="function">(<span class="params">&#123; children &#125;: &#123; children: React.ReactNode &#125;</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> componentsMapping = &#123;</span><br><span class="line">    h3: <span class="function">(<span class="params">props</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">h3</span> &#123;<span class="attr">...props</span>&#125; <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> &quot;<span class="attr">red</span>&quot; &#125;&#125; /&gt;</span></span>,</span><br><span class="line">    p: <span class="function">(<span class="params">props</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span> &#123;<span class="attr">...props</span>&#125; <span class="attr">className</span>=<span class="string">&quot;custom-class&quot;</span>/&gt;</span></span>,</span><br><span class="line">    Link,</span><br><span class="line">    Header,</span><br><span class="line">    Footer</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>Let’s head over to our <strong>next.mdx</strong> component, and use the newly available React components:</p>
<figure class="highlight yml"><figcaption><span>next.mdx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Multiplayer</span> <span class="string">Chess</span> <span class="string">with</span> <span class="string">Socket.io</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">30</span><span class="string">/09/2020</span></span><br><span class="line"><span class="attr">published:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;Header</span> <span class="string">/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Hello next project</span></span><br><span class="line"></span><br><span class="line"><span class="string">Oh</span> <span class="string">acceptance</span> <span class="string">apartments</span> <span class="string">up</span> <span class="string">sympathize</span> <span class="string">astonished</span> <span class="string">delightful.</span> <span class="string">Waiting</span> <span class="string">him</span> <span class="string">new</span> <span class="string">lasting</span> <span class="string">towards.</span> <span class="string">Continuing</span> <span class="string">melancholy</span> <span class="string">especially</span> <span class="string">so</span> <span class="string">to.</span> <span class="string">Me</span> <span class="string">unpleasing</span> <span class="string">impossible</span> <span class="string">in</span> <span class="string">attachment</span> <span class="string">announcing</span> <span class="string">so</span> <span class="string">astonished.</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;Link</span> <span class="string">to=&quot;/&quot;&gt;Let&#x27;s</span> <span class="string">go</span> <span class="string">home&lt;/Link&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;Footer</span> <span class="string">/&gt;</span></span><br></pre></td></tr></table></figure>

<p>There. We have successfully inserted React components into MDX components. Massive.</p>
<p>Cool. That’s pretty much it for MDX. We have seen how to create pages out of MDX documents by specifying page layouts and folders. We have also seen how we can style and give MDX componets access to React components. </p>
<p>In the next one we will go over few other things I found interesting while working on the website. Use of <strong>gatsby-plugin-ts</strong> and <strong>gatsby-remark-images</strong> are among them, so see you there.</p>
<!-- End Step Content -->

<!-- Project Information -->

<h2 id="Project-Information"><a href="#Project-Information" class="headerlink" title="Project Information"></a>Project Information</h2><h3 id="Available-at"><a href="#Available-at" class="headerlink" title="Available at"></a>Available at</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ikaem/angry-chaired-v2/">Github respository</a></li>
<li><a target="_blank" rel="noopener" href="https://angrychaired.surge.sh/">Live website</a></li>
</ul>
<h3 id="Goals"><a href="#Goals" class="headerlink" title="Goals"></a>Goals</h3><ol>
<li>Use MDX to provide content for programmatically created pages</li>
<li>Get better TypeScript support in Gatsby project</li>
</ol>
<h3 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h3><ol>
<li>Setup MDX and render MDX files as pages</li>
<li>Programmatically create pages with MDX</li>
<li><strong>Create pages with default layouts and gatsby-plugin-page-creator</strong></li>
<li>Additional things learned</li>
<li>Issus encountered during the project</li>
</ol>
<h3 id="Tech-and-Tools"><a href="#Tech-and-Tools" class="headerlink" title="Tech and Tools"></a>Tech and Tools</h3><ol>
<li>Gatsby</li>
<li>TypeScript</li>
<li>MDX</li>
</ol>
<h3 id="Experience-with-Tech-amp-Tools"><a href="#Experience-with-Tech-amp-Tools" class="headerlink" title="Experience with Tech &amp; Tools"></a>Experience with Tech &amp; Tools</h3><p>I have previously created a Gatsby website, and wrote about it on this blog. I have also used TypeScript before, including the mentioned project. I haven’t used MDX, but from what I see, it is basically a way to write React components in Markdown files.</p>
<h2 id="DISCLAIMER"><a href="#DISCLAIMER" class="headerlink" title="DISCLAIMER"></a>DISCLAIMER</h2><p>Don’t take any of this seriously and as a matter-of-fact. These are my notes. It might look like I am trying to teach something to someone. I am not.</p>


                


                <!-- Cover image credit -->
                
                    <p class="image-credit-link">
                        Cover image by <strong>
                            <a target="_blank" rel="noopener" href="https://unsplash.com/@rustyct1?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">
                                Rusty Watson
                            </a>
                        </strong>
                    </p>

                

  

            </div>
            
            <!-- Custom placed tags -->
            <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                
                    


<a href="/angry-chaired-blog/tags/gatsby/">#gatsby</a> <a href="/angry-chaired-blog/tags/mdx/">#mdx</a>


                
            </div>
            <!--  -->



            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            

            <!-- Hyvor comments -->

            <!-- End of Hyvor comments -->
        </div>
    </div>
</article>



    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2020 kaem<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>