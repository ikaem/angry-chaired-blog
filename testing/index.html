<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Testing | Angry Chaired Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Part 1 of 10 in GraphQL &amp; React     I thought TS setup will be more complicated on the backend side, but it was actually quite simple.I used the brief and convenient guide by Traversy Media, title">
<meta property="og:type" content="article">
<meta property="og:title" content="Testing">
<meta property="og:url" content="https://ikaem.github.io/angry-chaired-blog/testing/index.html">
<meta property="og:site_name" content="Angry Chaired Blog">
<meta property="og:description" content="Part 1 of 10 in GraphQL &amp; React     I thought TS setup will be more complicated on the backend side, but it was actually quite simple.I used the brief and convenient guide by Traversy Media, title">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://ikaem.github.io/angry-chaired-blog/testing/code-styled-comp.jpg">
<meta property="article:published_time" content="2020-08-11T13:36:27.000Z">
<meta property="article:modified_time" content="2020-08-12T10:20:54.805Z">
<meta property="article:author" content="kaem">
<meta property="article:tag" content="react">
<meta property="article:tag" content="graphql">
<meta property="article:tag" content="node">
<meta property="article:tag" content="express">
<meta property="article:tag" content="typescript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ikaem.github.io/angry-chaired-blog/testing/code-styled-comp.jpg">
  
    <link rel="alternate" href="/angry-chaired-blog/atom.xml" title="Angry Chaired Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/angry-chaired-blog/images/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/angry-chaired-blog/css/style.css">

  
<link rel="stylesheet" href="/angry-chaired-blog/css/post-style.css">

<meta name="generator" content="Hexo 5.0.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!-- <div id="banner"></div> -->
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/angry-chaired-blog/" id="logo">Angry Chaired Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/angry-chaired-blog/">Home</a>
        
          <a class="main-nav-link" href="/angry-chaired-blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/angry-chaired-blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://ikaem.github.io/angry-chaired-blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article
  id="post-testing"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  <div class="article-meta">
    <a href="/angry-chaired-blog/testing/" class="article-date">
  <time datetime="2020-08-11T13:36:27.000Z" itemprop="datePublished">11/08/2020</time>
</a>
    <!-- 
  <div class="article-category">
    <a class="article-category-link" href="/angry-chaired-blog/categories/express/">express</a>►<a class="article-category-link" href="/angry-chaired-blog/categories/graphql/">graphql</a>►<a class="article-category-link" href="/angry-chaired-blog/categories/grapqhl-react/">grapqhl & react</a>►<a class="article-category-link" href="/angry-chaired-blog/categories/node/">node</a>►<a class="article-category-link" href="/angry-chaired-blog/categories/react/">react</a>►<a class="article-category-link" href="/angry-chaired-blog/categories/typescript/">typescript</a>
  </div>
 -->
  </div>

  <div class="article-inner">
     
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      Testing
    </h1>
  

    </header>
    
    <div class="article-entry" itemprop="articleBody">
       <h4 id="Part-1-of-10-in-GraphQL-amp-React"><a href="#Part-1-of-10-in-GraphQL-amp-React" class="headerlink" title="Part 1 of 10 in GraphQL &amp; React"></a>Part 1 of 10 in <a href="/angry-chaired-blog/categories/grapqhl-react/">GraphQL &amp; React</a></h4><!-- Step Content Start -->

<!-- tag plugin for relative path -->
<img src="/angry-chaired-blog/testing/code-styled-comp.jpg" class="featured-image" title="alt text - this will be shown in index excerpt" alt="title text the image path here is relative to the post folder">

<p>I thought TS setup will be more complicated on the backend side, but it was actually quite simple.<br>I used the brief and convenient guide by <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=zRo2tvQpus8">Traversy Media, titled TypeScript Setup With Node &amp; Express, and got the thing up in minutes.</a><br>It seems to me that the key part here is the ts-node package. I am not sure what exactly does, but it did get the TS working.</p>
<a id="more"></a>

<h4 id="See-Project-Information"><a href="#See-Project-Information" class="headerlink" title="See Project Information"></a>See <a href="#Project-Information">Project Information</a></h4><h2 id="Step-1-Make-simple-Node-and-Express-server-with-TypeScript"><a href="#Step-1-Make-simple-Node-and-Express-server-with-TypeScript" class="headerlink" title="Step 1: Make simple Node and Express server with TypeScript"></a>Step 1: Make simple Node and Express server with TypeScript</h2><p>We need to:</p>
<ol>
<li>Initialize package.json</li>
<li>Install dev dependencies</li>
<li>Install other dependencies</li>
<li>Initialize and set up the tsconfig.json file for backend</li>
<li>Need to modify scripts in package.json</li>
<li>Write normal Express server</li>
</ol>
<h3 id="Initialize-package-json"><a href="#Initialize-package-json" class="headerlink" title="Initialize package.json"></a>Initialize package.json</h3><p>Install node-pg with:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>

<h3 id="Install-dev-dependencies"><a href="#Install-dev-dependencies" class="headerlink" title="Install dev dependencies"></a>Install dev dependencies</h3><p>These will only be used while developing the app, and will not be included in the production build – the one that my users see when they use the app.<br>We also need to install TypeScript types for some of the packages used by the server.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -D typescript ts-node nodemon @types/node @types/express @types/cors</span><br></pre></td></tr></table></figure>

<h3 id="Install-other-dependencies"><a href="#Install-other-dependencies" class="headerlink" title="Install other dependencies"></a>Install other dependencies</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express cors</span><br></pre></td></tr></table></figure>

<h3 id="Initialize-and-set-up-the-tsconfig-json-file-for-backend"><a href="#Initialize-and-set-up-the-tsconfig-json-file-for-backend" class="headerlink" title="Initialize and set up the tsconfig.json file for backend"></a>Initialize and set up the tsconfig.json file for backend</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br></pre></td></tr></table></figure>

<p>This creates tsconfig.json file that controls behavior of Typescript. I hope this sounds correct. It is a large file, with code that is mostly commented out. To be able to easily work with TS, we do need to modify it, however, and uncomment few things.<br>Here is the relevant snippet for my setup, copied from the tutorial I mentioned above.</p>
<ul>
<li>“outDir” is used to specify directory where TS compiler will store .js code, created from our .ts code</li>
<li>“rootDir” is used to specify directory where we will be writing .ts code</li>
<li>“moduleResolution” is explained in the comment below, and I cannot explain it better. </li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ts.config</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">&quot;outDir&quot;</span>: <span class="string">&quot;./dist&quot;</span>, <span class="comment">/* Redirect output structure to the directory. */</span></span><br><span class="line">    <span class="string">&quot;rootDir&quot;</span>: <span class="string">&quot;./src&quot;</span>,  </span><br><span class="line">    ... </span><br><span class="line">    <span class="string">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>, <span class="comment">/* Specify module resolution strategy: &#x27;node&#x27; (Node.js) or &#x27;classic&#x27; */</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Need-to-modify-scripts-in-package-json"><a href="#Need-to-modify-scripts-in-package-json" class="headerlink" title="Need to modify scripts in package.json"></a>Need to modify scripts in package.json</h3><p>Just a quick explanation.<br>I want to be able to </p>
<ul>
<li>Run a development server</li>
<li>When development is done, I want to create a production build</li>
<li>I also want to be able to start a server for production build</li>
</ul>
<p>We do these things with scripts in package.json file.</p>
<p>Here is the relevant snippet of the file</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;graphql-jwt-api&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;server.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;node dist/server.js&quot;</span>,</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;nodemon src/server.ts&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;tsc -p .&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;keywords&quot;</span>: [],</span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br></pre></td></tr></table></figure>


<ol>
<li>“dev” is used to specify that nodemon will run server.ts file in src folder.This runs our development server, and the script is activated with command:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>“build” is used to have TS compiler compile our .ts code from src folder into .js code in dist folder. TS compiler knows which folders to use because we specified them in the previous step with tsconfig.json file. The script is activated with command:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>“start” is used to start a server with the production build on it. It is the build from the dist folder, which means that we have to make that build with “npm run build” prior to running this command.The production server is started with:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>

<h3 id="Write-normal-Express-server"><a href="#Write-normal-Express-server" class="headerlink" title="Write normal Express server"></a>Write normal Express server</h3><p>Note that I use import syntaxt instead of require syntax that is normally used with Node.js. This is possible becuase of TS.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/server.js</span></span><br><span class="line"><span class="keyword">import</span> cors <span class="keyword">from</span> <span class="string">&quot;cors&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> express <span class="keyword">from</span> <span class="string">&quot;express&quot;</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line">  </span><br><span class="line">app.use(cors());</span><br><span class="line">app.use(express.json());</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">app.get(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span>(req, res) =&gt; &#123;</span><br><span class="line">    res.json(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;Server is listening on port 3000&quot;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<!-- End Step Content -->
<!-- Project Information -->

<h2 id="Project-Information"><a href="#Project-Information" class="headerlink" title="Project Information"></a>Project Information</h2><h3 id="Goals"><a href="#Goals" class="headerlink" title="Goals"></a>Goals</h3><ol>
<li>Create an app that uses GrapqhQL on frontend and backend</li>
<li>Use PSQL for database</li>
<li>Use Typescript on both ends</li>
<li>The app should be hold a list of users that can be created, viewed, edited, and deleted.</li>
</ol>
<h3 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h3><ol>
<li><strong>Make simple Node and Express server with TypeScript</strong></li>
<li>Create a PostgreSQL database and tables that hold user info</li>
<li>Use node-postgres to connect backend to database</li>
<li>Set Apollo Express Server</li>
<li>Create GQL types, queries and resolvers on backend</li>
<li>Pause</li>
<li>Make simple frontend with React and TS</li>
<li>Set Apollo Client on frontend</li>
<li>Establish frontend and backend communication via Apollo Client</li>
<li>Create pagination</li>
</ol>
<h3 id="Tech-and-Tools"><a href="#Tech-and-Tools" class="headerlink" title="Tech and Tools"></a>Tech and Tools</h3><ol>
<li>React</li>
<li>React Router</li>
<li>Styled Components</li>
<li>Node</li>
<li>PSQL</li>
<li>GraphQL</li>
<li>Apollo Server Express</li>
<li>Apollo Client</li>
<li>Bcrypt</li>
<li>TypeScript</li>
<li>Express</li>
</ol>
<h3 id="Experience-with-Tech-amp-Tools"><a href="#Experience-with-Tech-amp-Tools" class="headerlink" title="Experience with Tech &amp; Tools"></a>Experience with Tech &amp; Tools</h3><p>I am new to Typescript, have super little experience with PSQL and GQL and just a tiny bit more skills with Node and Express.<br>I am relatively ok with JS, React and other frontend stuff from the list but I am no way even close to be a seasoned frontend person.</p>
<h2 id="DISCLAIMER"><a href="#DISCLAIMER" class="headerlink" title="DISCLAIMER"></a>DISCLAIMER</h2><p>Don’t take any of this seriously and as a matter-of-fact. These are my notes. It might look like I am trying to teach something to someone. I am not.</p>
 
    </div>
    <footer class="article-footer">
      <a
        data-url="https://ikaem.github.io/angry-chaired-blog/testing/"
        data-id="ckdrhtv43000qccvz7wqsg2ti"
        class="article-share-link"
        >Share</a
      >
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/angry-chaired-blog/tags/express/" rel="tag">express</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/angry-chaired-blog/tags/graphql/" rel="tag">graphql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/angry-chaired-blog/tags/node/" rel="tag">node</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/angry-chaired-blog/tags/react/" rel="tag">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/angry-chaired-blog/tags/typescript/" rel="tag">typescript</a></li></ul>

    </footer>
  </div>
   
<nav id="article-nav">
  
    <a href="/angry-chaired-blog/graphql-react-node-express-typescript/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          GraphQL &amp; React: Node, Express &amp; Typescript
        
      </div>
    </a>
  
  
</nav>
 
</article>



<!-- HYVOR from here -->


<div id="hyvor-talk-view"></div>
<script type="text/javascript">
  var HYVOR_TALK_WEBSITE = 1583; // DO NOT CHANGE THIS
  var HYVOR_TALK_CONFIG = {
    url: "https://ikaem.github.io/angry-chaired-blog/testing/" || false,
    id: "ckdrhtv43000qccvz7wqsg2ti" || false,
    // loadMode: "scroll"
  };

  console.log("object log here:", HYVOR_TALK_CONFIG);
</script>
<script type="text/javascript" src="//talk.hyvor.com/web-api/embed"></script>


<!-- helpers below here -->
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/angry-chaired-blog/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/angry-chaired-blog/categories/graphql/">graphql</a></li><li class="category-list-item"><a class="category-list-link" href="/angry-chaired-blog/categories/grapqhl-react/">grapqhl & react</a></li><li class="category-list-item"><a class="category-list-link" href="/angry-chaired-blog/categories/node/">node</a></li><li class="category-list-item"><a class="category-list-link" href="/angry-chaired-blog/categories/react/">react</a></li><li class="category-list-item"><a class="category-list-link" href="/angry-chaired-blog/categories/typescript/">typescript</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/angry-chaired-blog/tags/express/" rel="tag">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/angry-chaired-blog/tags/graphql/" rel="tag">graphql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/angry-chaired-blog/tags/node/" rel="tag">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/angry-chaired-blog/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/angry-chaired-blog/tags/typescript/" rel="tag">typescript</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/angry-chaired-blog/tags/express/" style="font-size: 10px;">express</a> <a href="/angry-chaired-blog/tags/graphql/" style="font-size: 10px;">graphql</a> <a href="/angry-chaired-blog/tags/node/" style="font-size: 10px;">node</a> <a href="/angry-chaired-blog/tags/react/" style="font-size: 10px;">react</a> <a href="/angry-chaired-blog/tags/typescript/" style="font-size: 10px;">typescript</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/angry-chaired-blog/archives/2020/08/">August 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/angry-chaired-blog/graphql-react-psql-database-tables/">GraphQL &amp; React: PSQL Database &amp; Tables</a>
          </li>
        
          <li>
            <a href="/angry-chaired-blog/graphql-react-node-express-typescript/">GraphQL &amp; React: Node, Express &amp; Typescript</a>
          </li>
        
          <li>
            <a href="/angry-chaired-blog/testing/">Testing</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 kaem<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/angry-chaired-blog/" class="mobile-nav-link">Home</a>
  
    <a href="/angry-chaired-blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/angry-chaired-blog/fancybox/jquery.fancybox.css">

  
<script src="/angry-chaired-blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/angry-chaired-blog/js/script.js"></script>




  </div>
</body>
</html>